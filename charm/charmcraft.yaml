# This file configures Charmcraft.
# See https://juju.is/docs/sdk/charmcraft-config for guidance.

name: ubuntu-com-security-api

type: charm

bases:
  - build-on:
    - name: ubuntu
      channel: "22.04"
    run-on:
    - name: ubuntu
      channel: "22.04"

# (Required)
summary: The API for CVEs and USNs data.

# (Required)
description: |
  The Security API provides endpoints to query and manage security vulnerabilities
  and updates in Ubuntu systems.

extensions:
  - flask-framework

config:
  options:
    database-url:
      description: PostgreSQL database connection URL
      type: string
      default: postgresql://postgres@localhost:5432/postgres

    test-database-url:
      description: PostgreSQL database connection URL for testing
      type: string
      default: postgresql://postgres@localhost:5432/testdb

    flask-secret-key:
      description: Secret key used by FlaskBase to initialize the application.
      type: string
      default: local_development_fake_key


# Uncomment the integrations used by your application
# Integrations set to "optional: false" will block the charm
# until the applications are integrated.
# requires:
#   mysql:
#     interface: mysql_client
#     optional: false
#     limit: 1
#   postgresql:
#     interface: postgresql_client
#     optional: false
#     limit: 1
#   mongodb:
#     interface: mongodb_client
#     optional: false
#     limit: 1
#   redis:
#     interface: redis
#     optional: false
#     limit: 1
#   s3:
#     interface: s3
#     optional: false
#     limit: 1
#   saml:
#     interface: saml
#     optional: false
#     limit: 1
#   rabbitmq:
#     interface: rabbitmq
#     optional: false
#     limit: 1
#   tracing:
#     interface: tracing
#     optional: true
#     limit: 1
#   smtp:
#     interface: smtp
#     optional: false
#     limit: 1
#   openfga:
#     interface: openfga
#     optional: false
#     limit: 1
