# This file configures Charmcraft.
# See https://juju.is/docs/sdk/charmcraft-config for guidance.

name: ubuntu-security-api

type: charm

bases:
  - build-on:
      - name: ubuntu
        channel: "22.04"
    run-on:
      - name: ubuntu
        channel: "22.04"

# (Required)
summary: ubuntu-security-api

# (Required)
description: |
  This charm provides an API for accessing Ubuntu security data.

extensions:
  - flask-framework

requires:
  postgresql:
    interface: postgresql_client
    optional: false
    limit: 1

config:
  options:
    replica-one:
      type: secret
      description: "First read-replica connection string"
    replica-two:
      type: secret
      description: "Second read-replica connection string"